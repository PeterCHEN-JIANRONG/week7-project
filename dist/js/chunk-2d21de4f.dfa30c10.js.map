{"version":3,"sources":["webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?f285"],"names":["class","product","title","src","imageUrl","alt","imagesUrl","item","key","category","description","content","price","toThousand","origin_price","type","qty","min","addCart","active","isLoading","props","data","methods","getProduct","id","this","url","$http","get","then","res","success","$swal","fire","icon","text","message","catch","error","console","dir","product_id","post","showConfirmButton","timer","num","temp","toString","split","replace","join","created","render"],"mappings":"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","file":"js/chunk-2d21de4f.dfa30c10.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>產品頁</h1>\n    <h2>{{ product.title }}</h2>\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <img class=\"img-fluid mb-4\" :src=\"product.imageUrl\" alt=\"\" />\n        <img class=\"img-fluid mb-1\" v-for=\"item in product.imagesUrl\" :src=\"item\" :key=\"item\" />\n      </div>\n      <div class=\"col-sm-6\">\n        <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\n        <p>商品描述：{{ product.description }}</p>\n        <p>商品內容：{{ product.content }}</p>\n        <div class=\"h5\" v-if=\"!product.price\">{{ toThousand(product.origin_price) }} 元</div>\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ toThousand(product.origin_price) }} 元</del>\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ toThousand(product.price) }} 元</div>\n        <div>\n          <div class=\"input-group\">\n            <input type=\"number\" class=\"form-control\" v-model.number=\"qty\" min=\"1\" />\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"addCart\">\n              加入購物車\n            </button>\n          </div>\n        </div>\n      </div>\n      <!-- col-sm-6 end -->\n    </div>\n  </div>\n\n  <!-- vue-loading -->\n  <Loading :active=\"isLoading\"></Loading>\n</template>\n<script>\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      product: {\n        origin_price: 0,\n        price: 0,\n      },\n      qty: 1,\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProduct(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.product = res.data.product;\n          } else {\n            this.$swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: res.data.message,\n            });\n          }\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          console.dir(error);\n        });\n    },\n    addCart() {\n      this.isLoading = true;\n      const data = {\n        product_id: this.product.id,\n        qty: this.qty,\n      };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .post(url, { data })\n        .then((res) => {\n          if (res.data.success) {\n            this.$swal.fire({\n              // position: 'top',\n              icon: 'success',\n              title: res.data.message,\n              showConfirmButton: false,\n              timer: 1500,\n            });\n            this.qty = 1;\n            this.isLoading = false;\n            // this.$router.push('/products');\n          } else {\n            this.$swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: res.data.message,\n            });\n          }\n        })\n        .catch((error) => {\n          console.dir(error);\n        });\n    },\n    toThousand(num) {\n      // 千分位\n      const temp = num.toString().split('.');\n      temp[0] = temp[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      return temp.join('.');\n    },\n  },\n  created() {\n    // const { id } = this.$route.params;\n    this.getProduct(this.id);\n  },\n};\n</script>\n","import { render } from \"./Product.vue?vue&type=template&id=fde5572a\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
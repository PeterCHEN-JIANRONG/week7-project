(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-015db639"],{1799:function(e,t,c){"use strict";var a=c("7a23"),n={"aria-label":"Page navigation example"},o={class:"pagination"},r=Object(a["createVNode"])("span",{"aria-hidden":"true"},"«",-1),i=Object(a["createVNode"])("span",{"aria-hidden":"true"},"»",-1);function d(e,t,c,d,s,l){return Object(a["openBlock"])(),Object(a["createBlock"])("nav",n,[Object(a["createVNode"])("ul",o,[Object(a["createVNode"])("li",{class:["page-item",{disabled:!c.pages.has_pre}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(a["withModifiers"])((function(e){return l.emitPage(c.pages.current_page-1)}),["prevent"]))},[r])],2),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.pages.total_pages,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",{active:c.pages.current_page===e}],key:e},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(a["withModifiers"])((function(t){return l.emitPage(e)}),["prevent"])},Object(a["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(a["createVNode"])("li",{class:["page-item",{disabled:!c.pages.has_next}]},[Object(a["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(a["withModifiers"])((function(e){return l.emitPage(c.pages.current_page+1)}),["prevent"]))},[i])],2)])])}var s={props:["pages"],methods:{emitPage:function(e){this.$emit("get-products",e)}}};s.render=d;t["a"]=s},"1dde":function(e,t,c){var a=c("d039"),n=c("b622"),o=c("2d00"),r=n("species");e.exports=function(e){return o>=51||!a((function(){var t=[],c=t.constructor={};return c[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var a=c("861d"),n=c("e8b5"),o=c("b622"),r=o("species");e.exports=function(e,t){var c;return n(e)&&(c=e.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?a(c)&&(c=c[r],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===t?0:t)}},8418:function(e,t,c){"use strict";var a=c("c04e"),n=c("9bf2"),o=c("5c6c");e.exports=function(e,t,c){var r=a(t);r in e?n.f(e,r,o(0,c)):e[r]=c}},"99af":function(e,t,c){"use strict";var a=c("23e7"),n=c("d039"),o=c("e8b5"),r=c("861d"),i=c("7b0b"),d=c("50c4"),s=c("8418"),l=c("65f0"),u=c("1dde"),p=c("b622"),b=c("2d00"),g=p("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",f=b>=51||!n((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),h=u("concat"),v=function(e){if(!r(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},k=!f||!h;a({target:"Array",proto:!0,forced:k},{concat:function(e){var t,c,a,n,o,r=i(this),u=l(r,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(o=-1===t?r:arguments[t],v(o)){if(n=d(o.length),p+n>j)throw TypeError(O);for(c=0;c<n;c++,p++)c in o&&s(u,p,o[c])}else{if(p>=j)throw TypeError(O);s(u,p++,o)}return u.length=p,u}})},e6dc:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n={class:"container"},o=Object(a["createVNode"])("h1",null,"產品列表",-1),r={class:"mt-4"},i={class:"table align-middle"},d=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",null,"圖片"),Object(a["createVNode"])("th",null,"商品名稱"),Object(a["createVNode"])("th",null,"價格"),Object(a["createVNode"])("th")])],-1),s={style:{width:"200px"}},l={key:0,class:"h5"},u={key:1,class:"h6"},p={key:2,class:"h5"},b={class:"btn-group btn-group-sm"},g={class:"d-flex justify-content-center"};function j(e,t,c,j,O,f){var h=Object(a["resolveComponent"])("Pagination"),v=Object(a["resolveComponent"])("Loading");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("div",n,[o,Object(a["createVNode"])("div",r,[Object(a["createVNode"])("table",i,[d,Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(O.products,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[Object(a["createVNode"])("td",s,[t.imageUrl?(Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:0,style:[{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}]},null,4)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(t.title),1),Object(a["createVNode"])("td",null,[t.price?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("div",l,Object(a["toDisplayString"])(t.origin_price)+" 元",1)),t.price?(Object(a["openBlock"])(),Object(a["createBlock"])("del",u,"原價 "+Object(a["toDisplayString"])(e.$filters.currency(t.origin_price))+" 元",1)):Object(a["createCommentVNode"])("",!0),t.price?(Object(a["openBlock"])(),Object(a["createBlock"])("div",p," 現在只要 "+Object(a["toDisplayString"])(e.$filters.currency(t.price))+" 元 ",1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",b,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return f.pushProductPage(t)},disabled:O.loadingStatus.loadingItem===t.id||!t.is_enabled}," 查看更多 ",8,["onClick","disabled"]),Object(a["createVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return f.addCart(t.id)},disabled:O.loadingStatus.loadingItem===t.id||!t.is_enabled}," 加到購物車 ",8,["onClick","disabled"])])])])})),128))])])]),Object(a["createVNode"])("div",g,[Object(a["createVNode"])(h,{pages:O.pagination,onGetProducts:f.getProducts},null,8,["pages","onGetProducts"])])]),Object(a["createVNode"])(v,{active:O.isLoading},null,8,["active"])],64)}c("99af");var O=c("1799"),f={data:function(){return{products:[],product:{},pagination:{},currentPage:1,isLoading:!1,loadingStatus:{loadingItem:""}}},components:{Pagination:O["a"]},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.currentPage=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/products?page=").concat(t);this.$http.get(c).then((function(t){t.data.success?(e.products=t.data.products,e.pagination=t.data.pagination):e.errorAlert(t.data.message),e.isLoading=!1})).catch((function(e){console.dir(e)}))},pushProductPage:function(e){this.$router.push("/product/".concat(e.id))},addCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0,this.loadingStatus.loadingItem=e;var a={product_id:e,qty:c},n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart");this.$http.post(n,{data:a}).then((function(e){t.$httpMessageState(e,e.data.message),e.data.success&&(t.isLoading=!1,t.loadingStatus.loadingItem="")})).catch((function(e){console.dir(e)}))}},created:function(){this.getProducts()}};f.render=j;t["default"]=f},e8b5:function(e,t,c){var a=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-015db639.65e60b91.js.map